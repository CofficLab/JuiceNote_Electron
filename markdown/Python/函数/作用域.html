<h1 id="heading-1">作用域</h1><p>变量是很轻量级的东西，它指向一个值。</p><p>如果我们定义了很多变量，python 是怎么管理它们的呢？</p><p>一定是字典。</p><p>有一个名为 vars 的内置函数，它返回这个不可见的字典:</p><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python">x = 1

scope = vars()
print(scope['x'])

scope['x'] += 1
print(x)
</code></pre><p>这种“看不见的字典”称为命名空间或作用域。</p><p>那么有多少个命名空间呢?除全局作用域外，每个函数调用都将创建一个。</p><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python">def foo():
    x = 42
x=1
foo()
print(x)
</code></pre><p>在这里，函数 foo 修改了变量 x，但它没变。</p><p>&lt;div class="flex flex-col bg-cyan rounded"&gt; &lt;div class="bg-sky mt-4 mx-1 rounded py-2 px-1 flex flex-row justify-between"&gt; &lt;div&gt; def foo():&lt;br/&gt; &lt;span class="ml-5"&gt;x = 42&lt;/span&gt;&lt;/div&gt; &lt;div class="mr-12"&gt;&lt;span &gt;x仅在本作用域有效&lt;/span&gt;&lt;/div&gt; &lt;/div&gt;</p><p>&lt;div class="ml-2 flex flex-row justify-between"&gt; &lt;div&gt;x=1&lt;br/&gt; foo()&lt;br/&gt; print(x)&lt;br/&gt;&lt;/div&gt; &lt;div class="mr-4"&gt;x仅在本作用域有效，与函数内的x无关，只是名字相同而已&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;</p><p>在函数内使用的变量称为局部变量(与之相对的是全局变量)。参数类似于局部变量，因此参数与全局变量同名不会有任何问题。</p>