# 应用和数据分离

应用和数据分离后，整个网站使用三台服务器，且三台服务器硬件资源各有侧重：

- 应用服务器：处理大量的业务逻辑，需要更快更强的 CPU
- 文件服务器：存储大量文件，需要更大的磁盘
- 数据库服务器：存储和查询数据，需要更快的磁盘和更大的内存

此时的架构如下：

<div class="flex flex-row bg-cyan justify-center gap-4 p-4">
  <div class="flex flex-col gap-2 border border-red-50/10 p-4 justify-center">
    <div class="p-4">
      应用服务器
    </div>
    <div class="bg-sky p-4 text-center">应用程序</div>
  </div>
  <div class="flex flex-col gap-8 justify-between">
        <div class="w-24 p-4 text-center">-----></div>
        <div class="w-24 p-4 text-center">-----></div>
    </div>
  <div class="flex flex-col gap-8">
    <div class="flex flex-col gap-2 border border-red-50/10 p-4">
      <div class="p-4">文件服务器</div>
      <div class="bg-sky p-4 text-center">文件</div>
    </div>
    <div class="flex flex-col gap-2 border border-red-50/10 p-4">
      <div class="p-4">数据库服务器</div>
      <div class="bg-sky p-4 text-center">数据库</div>
    </div>
  </div>
</div>

应用和数据分离后，不同服务器承担不同的角色，网站的并发处理能力和数据存储空间得到了很大改善。

但是随着业务的进一步扩大，又一次面临挑战：

数据库压力太大，导致整个网站访问速度降低，用户体验受到影响。
