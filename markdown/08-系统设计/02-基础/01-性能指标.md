# 性能指标

## 测试代码

运行如下测试性能的代码：

<div class="run"></div>

```sh
ab -n 100 -c 1 'http://127.0.0.1:8000/'
```

## 响应时间

指的是某个请求从发出到接收到响应所消耗的时间。

在对响应时间进行测试时，通常采用重复请求的方式，然后计算平均响应时间。

当前，我们仅有一台服务器，应用程序、数据库、文件存储都在这台服务器上。

此时，通过测试，应用程序的平均响应时间是：

```
Time per request:       0.499 [ms] (mean)
```

非常快，目前程序运行良好。

## 吞吐量

指系统在单位时间内可以处理的请求数量，通常使用每秒的请求数来衡量。

此时，通过测试，应用程序的吞吐量是：

```
Requests per second:    3482.02 [#/sec] (mean)
```

每秒能够处理 `3482.02` 个请求，非常棒。

## 并发用户数

指系统能同时处理的并发用户请求数量。

在没有并发存在的系统中，请求被顺序执行，此时响应时间为吞吐量的倒数。

例如：

系统的吞吐量为 100 req/s，那么平均响应时间应该为 0.01s。

目前的大多数系统都支持并发，只是承受量有大小之分。

<div class="run"></div>

```sh
ab -n 100 -c 100 'http://127.0.0.1:8000/'
```

网站业务发展顺利，用户量越来越大，我们提高并发数来模拟这一情况，可见单个请求的耗时延长了：

```
Time per request:       35.413 [ms] (mean)
```
