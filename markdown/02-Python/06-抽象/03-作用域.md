# 作用域

变量到底是什么呢?可将其视为指向值的名称。因此，执行赋值语句 x = 1 后，名称 x 指向值 1。这几乎与使用字典时一样(字典中的键指向值)，只是你使用的是“看不见”的字典。实际上， 这种解释已经离真相不远。有一个名为 vars 的内置函数，它返回这个不可见的字典:

```python3
>>> x = 1 4
>>> scope = vars()
>>> scope['x']
1
>>> scope['x'] += 1
>>> x
2
```

这种“看不见的字典”称为命名空间或作用域。那么有多少个命名空间呢?除全局作用域外， 每个函数调用都将创建一个。

```python3
>>> def foo(): x = 42 ...
>>> x=1 9
>>> foo()
>>> x 1
```

在这里，函数 foo 修改(重新关联)了变量 x，但当你最终查看时，它根本没变。这是因为调 用 foo 时创建了一个新的命名空间，供 foo 中的代码块使用。赋值语句 x = 42 是在这个内部作用域 (局部命名空间)中执行的，不影响外部(全局)作用域内的 x。在函数内使用的变量称为局部变
量(与之相对的是全局变量)。参数类似于局部变量，因此参数与全局变量同名不会有任何问题。

<script>
function run(target) {
    if (window.runner == undefined) {
        alert('在APP版本中才可以运行')
        return
    }

    if (target.innerHTML == '收起') {
        target.innerHTML = '运行'
        target.parentElement.getElementsByTagName('pre').item(0).style.display = 'none'
    } else {
        target.innerHTML = '收起'
        code = target.parentElement.parentElement.getElementsByTagName('code').item(0).innerText
        result = window.runner(code,'python')
        target.parentElement.getElementsByTagName('code').item(0).innerHTML = result
        target.parentElement.getElementsByTagName('pre').item(0).style.display = 'block'
    }
}
</script>
