<h1>变量</h1><h2>声明</h2><ul class="m-0 p-0"><li class="m-0 p-0"><p>先声明后赋值</p><pre><code class="language-go">var a int
a = 1
</code></pre></li><li class="m-0 p-0"><p>声明并赋值</p><pre><code class="language-go">var a int = 1
</code></pre></li><li class="m-0 p-0"><p>隐式声明，让编译器自动推断类型：</p><pre><code class="language-go">var a = 1
</code></pre></li><li class="m-0 p-0"><p>短变量声明</p><p>短变量声明运算符 :=可自动推断变量类型，只用于局部变量，不可用于全局变量。</p><pre><code class="language-go">a := 1
</code></pre></li><li class="m-0 p-0"><p>声明多个</p><pre><code class="language-go">var a int = 1
var b string = "hello"
var (
    c float32 = 20.48
    d string = "老白"
)
e,f := 1, "hello"
</code></pre><p>多个变量赋值，只要其中有一个变量是新的，就可以使用:=，例如：</p><pre><code class="language-go">a := 1000
b, a := "你好", 9000
</code></pre></li></ul><h2>默认值</h2><p>如果声明一个变量而没有给它赋值，它的值是其类型的零值。</p><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-go">package main
import "fmt"
import "reflect"

func main() {
    var a int
    var b float32
    var c string

    fmt.Println(reflect.TypeOf(a), a)
    fmt.Println(reflect.TypeOf(b), b)
    fmt.Println(reflect.TypeOf(c), c)
}
</code></pre><h2>命名规则</h2><ul class="m-0 p-0"><li class="m-0 p-0"><p>变量名称必须以字母开头</p></li><li class="m-0 p-0"><p>以大写字母开头，表示可以导出</p></li><li class="m-0 p-0"><p>以小写字母开头，表示不能导出</p></li><li class="m-0 p-0"><p>如果名称由多个单词组成，第一个后的每个单词都要首字母大写</p><ul class="m-0 p-0"><li class="m-0 p-0"><p>maxCount</p></li><li class="m-0 p-0"><p>topPrice</p></li><li class="m-0 p-0"><p>RetryConnection</p></li></ul></li></ul><h2>常见报错</h2><h3>变量未使用</h3><pre><code>{变量名} declared but not used
</code></pre><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-go">package main
import "fmt"

func main() {
  name, power := "小六", 1000
  fmt.Println(power)
}
</code></pre><p>Go 不允许程序中有未使用的变量。</p><h3>类型不匹配</h3><pre><code>cannot use "xyz" (untyped string constant) as int value in assignment
</code></pre><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-go">package main
import "fmt"

func main() {
  var a int
  a = "xyz"
  fmt.Println(a)
}
</code></pre><h3>多次声明</h3><pre><code>{变量名} redeclared in this block
</code></pre><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-go">package main
import "fmt"

func main() {
  var a int
  var a string
  fmt.Println(a)
}
</code></pre><p>只能声明一次，多次声明编译器会报错。</p><h2>场景</h2><h3>交换值</h3><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-go">package main
import "fmt"

func main() {
  a := 1
  b := 2

  a,b = b,a

  fmt.Printf("a=%d  b=%d",a,b)

  fmt.Println()

  x := 100
  y := 200
  z := 300

  x,y,z = z,y,x

  fmt.Printf("x=%d  y=%d  z=%d",x,y,z)
}
</code></pre><h2>了解其他编程语言</h2><p>Go 的语法是非常严格的，有一些编程语言的变量声明非常简单，比如：</p><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python">a = 2
print(a)
</code></pre><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-php">$a = 2;
echo $a;
</code></pre><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-JavaScript">a = 2;
console.log(a);
</code></pre>