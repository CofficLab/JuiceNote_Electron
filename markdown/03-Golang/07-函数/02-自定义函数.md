# 自定义函数

函数执行特定的操作并返回一个值。

## 定义

<div class="run"></div>

```go
package main
import "fmt"

func hello(name string) (string) {
    return fmt.Sprintf("早上好，%s", name)
}

func main() {
    fmt.Printf(hello("老白"))
    fmt.Printf("\n")
    fmt.Printf(hello("老邢"))
}
```

## 参数

### 指定默认值

Python 支持指定参数默认值，像这样：

```python
def hello(name,words="近来是否安好？"):
    print(name + '，'+ words)
```

Go 不支持为参数设置默认值。

### 指定名称

参数很多时，排列顺序可能很难记。在 Python 中，可以指定参数的名称：

```python
def hello(name,words):
    print(name + '，'+ words)

hello(words='吃了吗？',name='小六')
hello(name='小六',words='吃了吗？')
```

Go 很简单，不支持这样做。

### 任意个数

<div class="run"></div>

```go
package main
import "fmt"

func sum(values...int) int {
    total := 0

    for _,value := range values {
        total = total + value
    }

    return total
}

func main() {
    fmt.Println(sum(1,2,3,4,5))
}
```

### 同类型参数

参数是同一类型时，可以简写：

```go
func sum(a,b,c int) int {
    return a+b+c
}
```

还有更多灵活、复杂的传参方式，我们无需一一学习，在有必要使用的时候，查询文档即可。

### 地址类型参数

<div class="run"></div>

```go
package main
import "reflect"
import "fmt"

func plus(x *int) {
    fmt.Println(reflect.TypeOf(x), x)

    *x = *x + 1
}

func main() {
    a := 1
    plus(&a)

    fmt.Println("变量a的地址是", &a)
    fmt.Println(a)
}
```

`*int` 表示函数需要一个指向`int`类型的地址：

```go
func plus(x *int)
```

## 返回值

### 没有

<div class="run"></div>

```go
package main

import "fmt"

func hi(name string) {
    fmt.Printf("你好，%s", name)
}

func main() {
    hi("掌柜的")
}
```

### 单个

<div class="run"></div>

```go
package main

import "fmt"

func max(x, y int) int {
    if x > y {
        return x
    } else {
        return y
    }
}

func main() {
    fmt.Printf("max = %d\n", max(1, 2))
}
```

### 多个

<div class="run"></div>

```go
package main

import "fmt"

func getNumbers() (int, int, int) {
    return 1, 2, 3
}

func main() {
    x, y, z := getNumbers()
    fmt.Printf("x = %d, y = %d, z = %d\n", x, y, z)
}
```

### 指定名称

<div class="run"></div>

```go
package main

import "fmt"

func getNumbers() (x int, y float64, z string) {
    x = 1024
    y = 3.14
    z = "hello world"
    return
}

func main() {
    x, y, z := getNumbers()
    fmt.Printf("x = %d, y = %.2f, z = %s\n", x, y, z)
}
```

### 同类型简化

```go
func getMaxAndMin(x, y, z int) (max, min int)
```

## 使用返回值

### 接收全部

<div class="run"></div>

```go
package main
import "fmt"

func x() (int,int) {
    return 1,2
}

func main() {
    first,second := x()

    fmt.Println(first, second)
}
```

### 忽略部分

若仅关注其中一个返回值，可将其他返回值赋值给空白符`_`：

<div class="run"></div>

```go
package main
import "fmt"

func x() (int,int,int) {
    return 1,2,3
}

func main() {
    first,_,_ := x()

    fmt.Println(first)
}
```

空白标识符是个特殊变量，特殊在于实际上返回值并没有赋值。

## 判断是否可调用

在 Python 中，要判断某个对象是否可以调用，可使用内置函数 `callable`

```python
import math

x = 1
y = math.sqrt

print(callable(x))
print(callable(y))
```

Go 没有这样的函数。
