# 切片

<div class="o">https://go.dev/ref/spec#Slice_types</div>

切片是一个 Go 的数据结构，允许增加更多的值。

<div class="banner">数组是不允许添加更多的值的</div>

数组就是一片连续的内存， slice 实际上是一个结构体，包含三个字段：长度、容量、底层数组。

```go
// runtime/slice.go
type slice struct {
	array unsafe.Pointer // 元素指针
	len   int // 长度
	cap   int // 容量
}
```

## 声明

<div class="run"></div>

```go
package main
import "reflect"
import "fmt"

func main() {
    var myArray [5]int
    // 创建切片，此时是空
    var mySlice []int

    fmt.Println(reflect.TypeOf(myArray))
    fmt.Println(myArray)

    fmt.Println(reflect.TypeOf(mySlice))
    fmt.Println(mySlice)

    // 切片长度变成 7
    mySlice = make([]int, 7)
    fmt.Println(mySlice)
}
```

## append 追加数据

使用`append`函数追加数据。

```go
func append(slice []Type, elems ...Type) []Type
```

<div class="run"></div>

```go
package main
import "reflect"
import "fmt"

func main() {
    m := []string{"a", "b"}

    fmt.Println(reflect.TypeOf(m), m)

    m = append(m, "c")
    fmt.Println(m)

    m = append(m, "d", "e")
    fmt.Println(m)
}
```

## 参考资料

<div class="link">https://golang.design/go-questions/slice/vs-array/</div>
