<h1 id="heading-1">文件操作</h1><p>&lt;div class="flex justify-start gap-1"&gt; &lt;div class="brick w-36 h-8"&gt;创建&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;查看属性&lt;/div&gt; &lt;div class="brick-red w-36 h-8"&gt;删除&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;打开&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;读取&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;写入&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;关闭&lt;/div&gt; &lt;/div&gt;</p><p>常见的操作有以上几种。</p><h2 id="heading-2">创建</h2><p>创建文件夹：</p><pre><code class="language-python">import os

# 如果是 Windows
os.makedirs("C:\Users\Administrator\Desktop\test_folder\in_test_folder")

# 如果是 macOS
os.makedirs("/Users/Administrator/Desktop/test_folder/in_test_folder")

# 如果是 Linux
os.makedirs("/Users/Administrator/Desktop/test_folder/in_test_folder")
</code></pre><p>可以这样简化：</p><pre><code class="language-python">import os

os.makedirs(os.path.join("Users", "Administrator", "Desktop", "test_folder", "in_test_folder"))
</code></pre><h2 id="heading-3">查看属性</h2><h3 id="heading-4">查看文件大小</h3><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python">import os

currentWorkFolder = os.getcwd()

print('当前工作目录是：' + currentWorkFolder)
print('大小（字节数）是：')
print(os.path.getsize(currentWorkFolder))
</code></pre><h3 id="heading-5">查看文件列表</h3><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python">import os

currentWorkFolder = os.getcwd()

print('当前工作目录是：' + currentWorkFolder)
print('文件列表是：')
print(os.listdir(currentWorkFolder))
</code></pre><h2 id="heading-6">删除</h2><h3 id="heading-7">删除一个文件</h3><pre><code class="language-python">os.unlink(path)
</code></pre><h3 id="heading-8">删除空文件夹</h3><pre><code class="language-python">os.rmdir(path)
</code></pre><h3 id="heading-9">删除文件夹</h3><p>删除文件夹以及其内容，不管是否为空：</p><pre><code class="language-python">import shutil

shutil.rmtree(path)
</code></pre><p>文件夹会被彻底删除，不会到回收站，这是一个非常危险的操作。</p><h3 id="heading-10">安全删除</h3><p>使用第三方模块，可以将被删除的文件或文件夹放入回收站。</p><pre><code class="language-python">import send2trash

send2trash.send2trash(path)
</code></pre><h2 id="heading-11">打开</h2><p>函数 open 用来打开文件：</p><pre><code class="language-python">f = open('names.txt')
</code></pre><p>如果文件位于其他地方，可指定完整的路径。</p><p>如果指定的文件不存在，将抛出异常:</p><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python">f = open('/a_file_that_not_exists.txt')
</code></pre><p>为了保证程序的健壮性，我们应捕获异常。</p><h2 id="heading-12">读取</h2><p>读取的前提是文件已经打开，可以指定读取多少个字符，也可以全部读取:</p><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python">f = open('tmp.txt','r')

# 读取 4 个字符
print(f.read(4))

# 读取剩下的全部
print(f.read())
</code></pre><h2 id="heading-13">写入</h2><p>写入的前提是文件已经打开：</p><p>&lt;div class="run"&gt;&lt;/div&gt;</p><pre><code class="language-python"># 打开文件
f = open('tmp.txt', 'w')

# 写入然后关闭
f.write('Hello, ')
f.write('World!')
f.close()

# 重新打开并检查刚才写入的内容
f = open('tmp.txt', 'r')
print(f.read())
</code></pre><h2 id="heading-14">关闭</h2><p>f.close() 即表示关闭文件。</p>