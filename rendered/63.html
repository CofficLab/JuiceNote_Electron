<toc></toc><h1 id="heading-1">文件操作</h1><p>&lt;div class="flex justify-start gap-1"&gt; &lt;div class="brick w-36 h-8"&gt;创建&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;查看属性&lt;/div&gt; &lt;div class="brick-red w-36 h-8"&gt;删除&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;打开&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;读取&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;写入&lt;/div&gt; &lt;div class="brick w-36 h-8"&gt;关闭&lt;/div&gt; &lt;/div&gt;</p><p>常见的操作有以上几种。</p><p>对于这些非常常见的操作，不管是什么编程语言，都会内置。</p><p>对于 Go，你可以去标准库里寻找相应的函数。</p><p>标准库的官方地址：</p><official-link class="bg-cyan-800/20 p-4">https://pkg.go.dev/std</official-link><h2 id="heading-2">创建</h2><p>创建文件夹：</p><pre><code language="go" run="true">package main
import "fmt"
import "os"

func main() {
  // 先获取当前工作路径
  pwd, err := os.Getwd()

  if err != nil {
    fmt.Println("获取当前路径出错")
  } else {
    fmt.Println("当前工作路径：",pwd)

    target := pwd + "/temp/xxx.txt"
    err := os.WriteFile(target, []byte("Hello, 老白!"), 0666)
    if err != nil {
      fmt.Println("新建文件失败了，错误是：", err)
    } else {
      fmt.Println("新建文件成功了，路径是：", target)
    }
  }
}
</code></pre><h2 id="heading-3">查看属性</h2><h3 id="heading-4">查看文件大小</h3><pre><code language="go" run="true">package main
import "fmt"
import "os"

func main() {
  // 先获取当前工作路径
  pwd, err := os.Getwd()

  if err != nil {
    fmt.Println("获取当前路径出错")
  } else {
    fmt.Println("当前工作路径：",pwd)

    fmt.Println(os.Stat(pwd))
  }
}
</code></pre><h3 id="heading-5">查看文件列表</h3><pre><code language="go" run="true">package main
import "os"
import "fmt"

func main() {
  // 先获取当前工作路径
  pwd, err := os.Getwd()

  if err != nil {
    fmt.Println("获取当前路径出错")
  } else {
    fmt.Println("当前工作路径：",pwd)

    files,err := os.ReadDir(pwd)

    if err != nil {
      fmt.Println("读取文件夹失败")
    } else {
      fmt.Print(files)
    }
  }
}
</code></pre><h2 id="heading-6">删除</h2><h3 id="heading-7">删除一个文件</h3><pre><code language="go" run="false">os.Remove(path)
</code></pre><h3 id="heading-8">删除空文件夹</h3><pre><code language="go" run="false">os.Remove(path)
</code></pre><h3 id="heading-9">删除文件夹</h3><p>删除文件夹以及其内容，不管是否为空：</p><pre><code language="go" run="false">os.RemoveAll(path)
</code></pre><p>文件夹会被彻底删除，不会到回收站，这是一个非常危险的操作。</p><h2 id="heading-10">读取</h2><p>读取的前提是文件已经打开，可以指定读取多少个字符，也可以全部读取:</p><pre><code language="go" run="false">os.ReadFile(path)
</code></pre><h2 id="heading-11">写入</h2><pre><code language="go" run="false">package main
import "fmt"
import "os"

func main() {
  // 先获取当前工作路径
  pwd, err := os.Getwd()

  if err != nil {
    fmt.Println("获取当前路径出错")
  } else {
    fmt.Println("当前工作路径：",pwd)

    target := pwd + "/temp/xxx.txt"
    err := os.WriteFile(target, []byte("Hello, 老白!"), 0666)
    if err != nil {
      fmt.Println("新建文件失败了，错误是：", err)
    } else {
      fmt.Println("新建文件成功了，路径是：", target)
    }
  }
}
</code></pre>